# s 
2
## url
https://www.slideshare.net/SpringCentral/ddd-rest-domain-driven-apis-for-the-web
## tiny url
https://tinyurl.com/api-ddd-s2
## archive url
https://bit.ly/2Tm2YkP
## title
DDD & REST Domain Driven Apis for the Web
## source code
True
## example
True
## source type 
Slides
## author type
Practitioner

**AXIAL CODING TRACE:**
``` python
s2= CClass(source, "s2", values={
    "title": "DDD & REST Domain Driven Apis for the Web",
    "url": "https://www.slideshare.net/SpringCentral/ddd-rest-domain-driven-apis-for-the-web",
    "archive url": "https://bit.ly/2Tm2YkP",
    "author type": "Practitioner",
    "type": "Slides",
    "example": True,
    "source code": True})
```
## references
**OPEN CODING TRACE:**
- DDD Book : ddd_book_2004
- Domain Driven Design Quickly : ddd_quickly_book_2007
@book{marinescu2007domain,
  title={Domain-driven design Quickly},
  author={Marinescu, Floyd and Avram, Abel},
  year={2007},
  publisher={Lulu. com}
}
- Video Streaming: https://www.infoq.com/presentations/ddd-rest/ , infoq_Oliver_Gierke_2016
- Video Streaming: https://www.youtube.com/watch?v=1RgXgZcj5nM , youtube_Oliver_Gierke_2016
- further info:
  - Power Use of Value Object in DDD: https://www.infoq.com/presentations/Value-Objects-Dan-Bergh-Johnsson/
  - Spring RESTBucks (github:olivergierke)
  - Benefits of Hypermedia APIs http://olivergierke.de/2016/04/benefits-of-hypermedia/

**AXIAL CODING TRACE:**
  - add codes to s2: ddd_book_2004
``` python
ddd_quickly_book_2007 = CClass(reference, "DDD Quickly Book", values={
    "bibliographic reference": "Marinescu, Floyd and Avram, Abel" + "Domain-driven design Quickly" + "Lulu. com, 2007",
    "author type": "Practitioner",
    "type": "Practitioner Book"})
infoq_Oliver_Gierke_2016 = CClass(reference, "Oliver Gierke talk in InfoQ", values={
    "bibliographic reference": "Oliver Gierke" + "DDD & REST - Domain Driven APIs for the Web" + "https://www.infoq.com/presentations/ddd-rest/",
    "author type": "Practitioner",
    "type": "Video Streaming"})
youtube_Oliver_Gierke_2016 = CClass(reference, "Oliver Gierke talk in GOTO2015", values={
    "bibliographic reference": "Oliver Gierke" + "GOTO 2015 â€¢ DDD & REST - Domain Driven APIs for the Web" + "https://www.youtube.com/watch?v=1RgXgZcj5nM",
    "author type": "Practitioner",
    "type": "Video Streaming"})
rest_in_practice_book_2010 = CClass(reference, "Rest in Practice Book", values={
    "bibliographic reference": "REST in practice: Hypermedia and systems architecture"+"Webber, Jim and Parastatidis, Savas and Robinson, Ian" + "O'Reilly Media, Inc., 2010",
    "author type": "Practitioner",
    "type": "Practitioner Book"})
``` 
  - add_links({s2: ddd_book_2004, ddd_quickly_book_2007, infoq_Oliver_Gierke_2016, youtube_Oliver_Gierke_2016, rest_in_practice_book_2010 }, role_name="referenced")

# coding

> P1-P32:
 
**OPEN CODING TRACE:**
various details about DDD modelling concepts are discussed.  in particlar:
   domain_model, value_object, entity, aggregate, repository, bounded_context

**AXIAL CODING TRACE:**
  - add codes to s2:
``` python
  ''' domain_model, value_object, entity, aggregate, repository, bounded_context'''
``` 
> P29: Don't get trapped in datastore thinking
> P34: if you call two setters in a row, you are missing a concept
> P32-P38: domain events discussion
> P37: Expose events to interested parties via feeds (messaging or pub/sub)
> P56: Prefer state transitions over PATCH
> P59ff Restbucks example

**OPEN CODING TRACE:**

- CRUD style resources vs. domain operations are discussed.
- exposing domain events as state transitions as an alternative is discussed.
- possible variant: offer them as a feed (or via messaging or pub/sub)
- discusses trap to expose domain details to clients, i.e. clients to have to handle domain logic
- this can lead to data consistency issues.
- both less so for explicit domain operations and events
- for update operations don't implement CRUD update with PATCH, but use state transition operations (e.g. as events)

**AXIAL CODING TRACE:**
added: 
``` python


    expose_domain_events_as_state_transitions = CClass(practice, "Expose domain events as state transitions")
    expose_domain_events_via_feeds_or_pub_sub = CClass(practice, "Expose domain events via feeds or pub/sub")
    add_decision_option_link(operation_design_decision, expose_domain_events_as_state_transitions,
                         "Expose state transition domain events to clients")
add_decision_option_link(operation_design_decision, expose_domain_events_via_feeds_or_pub_sub,
                         "Expose event feed via a feed or publish/subscribe to clients")
    domain_events_via_feeds_or_pub_sub_extension = \
    add_stereotyped_link_with_how_tagged_value(expose_domain_events_as_state_transitions,
                                               expose_domain_events_via_feeds_or_pub_sub, variant,
                                               "events might be exposed to clients via feeds or publis /subscribe")
```    

added force relations for event-based variants; for all added data_consistency force.
``` python
add_force_relations({crud_style_operations_on_resources: {expose_domain_model_details_in_api: negative,
                                                          data_consistency: very_negative,
                                                          chatty_api: very_negative,
                                                          performance: very_negative,
                                                          scalability: very_negative},
                     domain_operations_on_resources: {expose_domain_model_details_in_api: positive,
                                                      data_consistency: positive,
                                                      chatty_api: positive,
                                                      performance: positive,
                                                      scalability: positive},
                     expose_domain_events_as_state_transitions: {expose_domain_model_details_in_api: very_positive,
                                                                 data_consistency: positive,
                                                                 chatty_api: positive,
                                                                 performance: positive,
                                                                 scalability: very_positive},
                     expose_domain_events_via_feeds_or_pub_sub: {expose_domain_model_details_in_api: very_positive,
                                                                 data_consistency: positive,
                                                                 chatty_api: positive,
                                                                 performance: positive,
                                                                 scalability: very_positive},
                     })
```

add codes to s2: 
``` python 
    operation_design_decision, crud_style_operations_on_resources, 
    domain_operations_on_resources, expose_domain_model_details_in_api,
    expose_domain_events_as_state_transitions, expose_domain_events_via_feeds_or_pub_sub,
    domain_events_via_feeds_or_pub_sub_extension, expose_domain_model_details_in_api,
    data_consistency
```
> P43: Aggregates
> P44: Resources
> P30-31: bounded contexts vs. aggregates

**OPEN CODING TRACE:**
- aggregates vs bounded contexts as resources are discussed. 
- entities are mentioned as an option, but very negatively for domain detail exposition. 
- Best are aggregations, can be worse for bounded contexts, as clients 
have to cross them and those know domain model details to do that. 
- This can lead to issues with data
consistency, too. 
- In contrast, aggregates are scopes of consistency. 
- Entities are very negative for data consistency, as the clients would have to manage it.

**AXIAL CODING TRACE:**
- added data_consistency links to:
``` python
add_force_relations({entities_as_API_resources: {expose_domain_model_details_in_api: very_negative,
                                                 data_consistency: very_negative,
                                                 chatty_api: negative,
                                                 performance: negative,
                                                 scalability: negative},
                     aggregate_roots_as_API_resources: {expose_domain_model_details_in_api: positive,
                                                        data_consistency: very_positive,
                                                        chatty_api: positive,
                                                        performance: positive,
                                                        scalability: positive},
                     bounded_contexts_as_API_resources: {expose_domain_model_details_in_api: positive,
                                                         data_consistency: neutral,
                                                         chatty_api: positive,
                                                         performance: positive,
                                                         scalability: positive},
                     })
```

add codes to s2: 
``` python 
    '''
    designing_API_resources_decision, entities_as_API_resources,
    aggregate_roots_as_API_resources, bounded_contexts_as_API_resources, expose_domain_model_details_in_api,   
    data_consistency
    '''
```
> P46: Service Data and Navigation info at the same time.
> P47: Trading domain knowledge with protocol complexity in clients
> P48: + coupling to the server
> P58: Mapping of IDs to URLs
> P49ff: API evolvability 
 
**OPEN CODING TRACE:**
- discussion of object identifier based vs. linked information holder based (hypermedia) mapping of links
- embedded entity implicitly discussed
- discussion of forces Coupling of Clients to Server, Protocol Complexity in Client, expose_domain_model_details_in_api
- additional discussion of api_evolvability force
- 

**AXIAL CODING TRACE:**
added:
``` python
coupling_of_clients_to_server = CClass(force, "Coupling of Clients to Server")
protocol_complexity_in_client = CClass(force, "Protocol Complexity in Client")
```

add codes to s2: 
``` python 
'''            
            link_mapping_decision,
            linked_information_holder, use_distributed_links, use_distributed_links_uses_linked_information_holder,
            embedded_entity, embed_linked_data, embed_linked_data_uses_embedded_entity,
            object_identifier, pass_object_ids, pass_object_ids_uses_object_id,
            do_nothing_for_links, expose_domain_model_details_in_api, 
            coupling_of_clients_to_server, protocol_complexity_in_client,
            api_evolvability
'''
```

added force relations for coupling_of_clients_to_server, protocol_complexity_in_client to:
``` python 

add_force_relations({linked_information_holder: {data_consistency: positive,
                                                 api_evolvability: positive,
                                                 api_modifiability: positive,
                                                 message_size: very_positive,
                                                 expose_domain_model_details_in_api: very_positive,
                                                 coupling_of_clients_to_server: very_positive,
                                                 protocol_complexity_in_client: negative,
                                                 minimize_api_calls: negative,
                                                 performance: negative,
                                                 scalability: negative},
                     object_identifier: {data_consistency: positive,
                                         api_evolvability: positive,
                                         api_modifiability: positive,
                                         message_size: very_positive,
                                         expose_domain_model_details_in_api: negative,
                                         coupling_of_clients_to_server: negative,
                                         protocol_complexity_in_client: positive,
                                         minimize_api_calls: negative,
                                         performance: negative,
                                         scalability: negative},
                     embedded_entity: {data_consistency: negative,
                                       api_evolvability: negative,
                                       api_modifiability: negative,
                                       message_size: negative,
                                       expose_domain_model_details_in_api: neutral,
                                       coupling_of_clients_to_server: positive,
                                       protocol_complexity_in_client: positive,
                                       minimize_api_calls: positive,
                                       performance: positive,
                                       scalability: positive},
                     })

``` 
> P42: value objects need custom serializers

**OPEN CODING TRACE:**
options here:

- customer serializer with generation (Jackson)
- handwritten customer serializer 

**AXIAL CODING TRACE:**
This is on internal mapping DDD->microservices. No action taken for API models.